<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Arindom Baruah (32779267)">

<title>ETC 5521 Assignment 1 Q2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Q2_files/libs/clipboard/clipboard.min.js"></script>
<script src="Q2_files/libs/quarto-html/quarto.js"></script>
<script src="Q2_files/libs/quarto-html/popper.min.js"></script>
<script src="Q2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Q2_files/libs/quarto-html/anchor.min.js"></script>
<link href="Q2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Q2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Q2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Q2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Q2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="Q2_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="Q2_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="Q2_files/libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet">
<script src="Q2_files/libs/bsTable-3.3.7/bootstrapTable.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ETC 5521 Assignment 1 Q2</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Arindom Baruah (32779267) </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p><img src="https://editor.analyticsvidhya.com/uploads/3951420200902_blog_-forecasting-with-time-series-models-using-python_pt2_website.png" class="img-fluid"></p>
<div class="warning" style="background-color:#8bd69f; color: #000301; border-left: solid #044716 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="margin-top:1em; text-align:center">
<b>What are we trying to study ?</b>
</p>
<p style="margin-left:1em;">
</p><p><b> A small cafe in the city of Melbourne is interested in determining whether the daily earnings depend on the weather. They compiled data for a period over 2000-2001 to study this question. An initial data analysis for the dataset will be conducted in the following sections to prepare the dataset for further exploratory data</b></p><b>
<p></p>
</b><p style="margin-bottom:1em; margin-right:1em; text-align:right; font-family:Georgia"><b>
</b> <i></i>
</p>
<p></p>
</span></div>
<section id="data-description" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Data description</h1>
<p>As a part of the initial data analysis, we need to describe the various variables present in the dataset. The variables are described in <a href="#tbl-metdata">Table&nbsp;1</a>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-metdata" class="anchored">

<table data-quarto-disable-processing="true" class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"><caption>Table&nbsp;1:  <p>Metadata</p> </caption>
 <thead>
  <tr>
   <th style="text-align:left;"> var </th>
   <th style="text-align:left;"> description </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;width: 2cm; border-right:1px solid;"> dt </td>
   <td style="text-align:left;width: 10cm; "> Date </td>
  </tr>
  <tr>
   <td style="text-align:left;width: 2cm; border-right:1px solid;"> wday </td>
   <td style="text-align:left;width: 10cm; "> Day of the week </td>
  </tr>
  <tr>
   <td style="text-align:left;width: 2cm; border-right:1px solid;"> revenue </td>
   <td style="text-align:left;width: 10cm; "> Daily revenue in hundreds, 11=1100 </td>
  </tr>
  <tr>
   <td style="text-align:left;width: 2cm; border-right:1px solid;"> expend </td>
   <td style="text-align:left;width: 10cm; "> Daily expenses in hundreds </td>
  </tr>
  <tr>
   <td style="text-align:left;width: 2cm; border-right:1px solid;"> precip </td>
   <td style="text-align:left;width: 10cm; "> Precipitation in mm </td>
  </tr>
  <tr>
   <td style="text-align:left;width: 2cm; border-right:1px solid;"> mint </td>
   <td style="text-align:left;width: 10cm; "> Minimum temperature, Celsius </td>
  </tr>
  <tr>
   <td style="text-align:left;width: 2cm; border-right:1px solid;"> maxt </td>
   <td style="text-align:left;width: 10cm; "> Maximum temperature, Celsius </td>
  </tr>
  <tr>
   <td style="text-align:left;width: 2cm; border-right:1px solid;"> source </td>
   <td style="text-align:left;width: 10cm; "> Source of the weather data </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"cafe.rda"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li><strong>dt</strong>: Date of observation</li>
<li><strong>wday</strong>: The day of the week corresponding to the observation date.</li>
<li><strong>revenue</strong>: Revenue generated for the observation date.</li>
<li><strong>expend</strong>: Expenditures incurred for the observation date.</li>
<li><strong>precip</strong>: Precipitation value on the observation date.</li>
<li><strong>mint</strong>: Minimum temperature on the observation date.</li>
<li><strong>maxt</strong>: Maximum temperature on the observation date.</li>
<li><strong>source</strong>: Source of the weather data.</li>
</ol>
<p>Let us get an understanding of how the data looks like by checking <a href="#tbl-head">Table&nbsp;2</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">head</span>(cafe), <span class="at">table.attr =</span> <span class="st">'data-quarto-disable-processing="true"'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="tbl-head" class="anchored">

<table data-quarto-disable-processing="true" class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"><caption>Table&nbsp;2:  <p>Initial observations of the dataset</p> </caption>
 <thead>
  <tr>
   <th style="text-align:left;"> dt </th>
   <th style="text-align:left;"> wday </th>
   <th style="text-align:right;"> revenue </th>
   <th style="text-align:left;"> expend </th>
   <th style="text-align:left;"> precip </th>
   <th style="text-align:right;"> mint </th>
   <th style="text-align:right;"> maxt </th>
   <th style="text-align:left;"> source </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 12-16-00 </td>
   <td style="text-align:left;"> Sat </td>
   <td style="text-align:right;"> 10.97 </td>
   <td style="text-align:left;"> 7.21 </td>
   <td style="text-align:left;"> 0.4 </td>
   <td style="text-align:right;"> 16.4 </td>
   <td style="text-align:right;"> 23.00000 </td>
   <td style="text-align:left;"> BOSM </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 12-17-00 </td>
   <td style="text-align:left;"> Sun </td>
   <td style="text-align:right;"> 12.13 </td>
   <td style="text-align:left;"> 6.01 </td>
   <td style="text-align:left;"> 0.6 </td>
   <td style="text-align:right;"> 14.6 </td>
   <td style="text-align:right;"> 21.00000 </td>
   <td style="text-align:left;"> BOSM </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 12-18-00 </td>
   <td style="text-align:left;"> Mon </td>
   <td style="text-align:right;"> 11.27 </td>
   <td style="text-align:left;"> 0.64 </td>
   <td style="text-align:left;"> 0 </td>
   <td style="text-align:right;"> 18.0 </td>
   <td style="text-align:right;"> 18.77056 </td>
   <td style="text-align:left;"> NOAE </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 12-19-00 </td>
   <td style="text-align:left;"> Tue </td>
   <td style="text-align:right;"> 14.33 </td>
   <td style="text-align:left;"> 4.06 </td>
   <td style="text-align:left;"> 0 </td>
   <td style="text-align:right;"> 15.4 </td>
   <td style="text-align:right;"> 29.23121 </td>
   <td style="text-align:left;"> NOAE </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 12-20-00 </td>
   <td style="text-align:left;"> Wed </td>
   <td style="text-align:right;"> 15.61 </td>
   <td style="text-align:left;"> 3 </td>
   <td style="text-align:left;"> 0 </td>
   <td style="text-align:right;"> 16.6 </td>
   <td style="text-align:right;"> 25.81983 </td>
   <td style="text-align:left;"> NOAE </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 12-21-00 </td>
   <td style="text-align:left;"> Thu </td>
   <td style="text-align:right;"> 18.37 </td>
   <td style="text-align:left;"> 2.63 </td>
   <td style="text-align:left;"> 0 </td>
   <td style="text-align:right;"> 14.6 </td>
   <td style="text-align:right;"> 32.74231 </td>
   <td style="text-align:left;"> NOAE </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="data-screening" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Data screening</h1>
<p>The second step in the initial data analysis would be to check for the datatypes associated with each variable. We can identify the datatypes through the glimpse function as shown below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(cafe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 91
Columns: 8
$ dt      &lt;chr&gt; "12-16-00", "12-17-00", "12-18-00", "12-19-00", "12-20-00", "1…
$ wday    &lt;chr&gt; "Sat", "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun",…
$ revenue &lt;dbl&gt; 10.97, 12.13, 11.27, 14.33, 15.61, 18.37, 11.60, 12.58, 13.23,…
$ expend  &lt;chr&gt; "7.21", "6.01", "0.64", "4.06", "3", "2.63", "0.6", "2.19", "6…
$ precip  &lt;chr&gt; "0.4", "0.6", "0", "0", "0", "0", "7", "0", "0", "0", "0", "0"…
$ mint    &lt;dbl&gt; 16.40000, 14.60000, 18.00000, 15.40000, 16.60000, 14.60000, 16…
$ maxt    &lt;dbl&gt; 23.00000, 21.00000, 18.77056, 29.23121, 25.81983, 32.74231, 20…
$ source  &lt;chr&gt; "BOSM", "BOSM", "NOAE", "NOAE", "NOAE", "NOAE", "NOAE", "BOSM"…</code></pre>
</div>
</div>
<p>Let us now try to visualise the datatypes using a visdat plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vis_dat</span>(cafe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-datviz" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Q2_files/figure-html/fig-datviz-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Datatypes for each variable</figcaption>
</figure>
</div>
</div>
</div>
<p>Based on the glimpsed dataset and <a href="#fig-datviz">Figure&nbsp;1</a>,</p>
<div class="alert alert-block alert-warning">
<p>⚠️‼️ We are able to observe the following issues with the datatypes of each variables:</p>
<ol type="1">
<li><b> dt (Date) </b>: The date variable is in the character format and will need to be converted to datetime format.</li>
<li><b> expend (Expenditure) </b>: The expenditure variable is in the character datatype while these are continuous numerical values. Hence, this variable will be converted to a numerical datatype.</li>
<li><b> precip (Precipitation) </b>: The precipitation variable which shows the precipitation value is a character variable while it contains continuous numerical values. Hence, this variable will be converted to a numerical variable.</li>
</ol>
</div>
<p>Now that we have identified the variables with the incorrect datatypes, we will transform them into the required datatypes which will allow us to further analyse our dataset.</p>
<section id="converting-date-to-datetime" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="converting-date-to-datetime"><span class="header-section-number">2.1</span> Converting date to datetime</h2>
<p>In order to convert the dates into suitable format, we will need to conduct a quick <strong>sanity check</strong>. Let us first check the dates in its current form.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cafe<span class="sc">$</span>dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12-16-00" "12-17-00" "12-18-00" "12-19-00" "12-20-00" "12-21-00"</code></pre>
</div>
</div>
<p>Based on the above output, we see that the dates are in the format of “MM-DD-YY”. Hence, an appropriate treatment to the dates will be done to convert them into the required datetime format as shown through the code chunk below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>cafe<span class="sc">$</span>dt <span class="ot">&lt;-</span> <span class="fu">mdy</span>(cafe<span class="sc">$</span>dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="obtaining-day-of-week-from-date" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="obtaining-day-of-week-from-date"><span class="header-section-number">2.2</span> Obtaining day of week from date</h2>
<p>While the column “wday” is already in its appropriate format and datatype, however, we will replace this column by obtaining the weekday from the date column. This would serve as an <strong>added validation</strong> and will prevent any incorrect entries of weekday in the dataset. Furthermore, the column will be converted into an ordered factor datatype which would allow for easier analysis and visualisations in later sections.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>cafe<span class="sc">$</span>wday <span class="ot">&lt;-</span> <span class="fu">wday</span>(cafe<span class="sc">$</span>dt,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="converting-expenditure-and-precipitation-variables" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="converting-expenditure-and-precipitation-variables"><span class="header-section-number">2.3</span> Converting expenditure and precipitation variables</h2>
<p>The values of expenditures and precipitations should ideally be numerical in nature as they are continuous values. The following code chunk will convert the datatypes for these variables into a suitable datatype for numerical analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>cafe<span class="sc">$</span>precip <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(cafe<span class="sc">$</span>precip)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>cafe<span class="sc">$</span>expend <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(cafe<span class="sc">$</span>expend)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let us now visualise the new datatypes using the visdat package once again as illustrated by <a href="#fig-newdataviz">Figure&nbsp;2</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vis_dat</span>(cafe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-newdataviz" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Q2_files/figure-html/fig-newdataviz-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;2: Datatypes of variables after data screening</figcaption>
</figure>
</div>
</div>
</div>
<div class="alert alert-block alert-success">
<p>✅ Upon successful data screening, we now have a dataset with each variable being attributed with an appropriate datatype. ✅</p>
</div>
</section>
</section>
<section id="data-cleaning" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Data cleaning</h1>
<p>In this section, we will be mainly concerned with the quality of our data. Upon assessing the quality of the data, we will utilise various data cleaning methods to improve the overall usability of the dataset.</p>
<section id="missing-values-in-the-dataset" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="missing-values-in-the-dataset"><span class="header-section-number">3.1</span> Missing values in the dataset</h2>
<p>Let us try to visualise the presence of missing values in the dataset using the vis-miss visualisation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vis_miss</span>(cafe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-vismis" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Q2_files/figure-html/fig-vismis-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;3: Missing values in the dataset</figcaption>
</figure>
</div>
</div>
</div>
<p>Based on illustration of <a href="#fig-vismis">Figure&nbsp;3</a>,</p>
<div class="alert alert-block alert-warning">
<p>⚠️‼️</p>
<p>While the overall dataset is fairly clean, the missing values constitute about <b> 0.4% </b> of the entire dataset. These missing values are observed in the expenditure,precipitation and the revenue variables.</p>
<p>⚠️‼️</p>
</div>
<p>In the next part, we will observe how we can deal with the missing values in the dataset. Let us first visualise the distribution of the variables to get an understanding of a suitable method to either replace or remove the missing values in the dataset. This process is popularly termed as <strong>data imputation</strong>.</p>
</section>
<section id="data-imputation" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="data-imputation"><span class="header-section-number">3.2</span> Data imputation</h2>
<section id="precipitation" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="precipitation"><span class="header-section-number">3.2.1</span> Precipitation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>pl1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> cafe, <span class="fu">aes</span>(<span class="at">x =</span> precip)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">'lightgreen'</span>, <span class="at">color =</span> <span class="st">'black'</span>) <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">median</span>(cafe<span class="sc">$</span>precip, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">color =</span> <span class="st">'red'</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Precipitation value (in mm)"</span>, <span class="at">y =</span> <span class="st">"Number of observations"</span>) <span class="sc">+</span> <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">14</span>, <span class="at">y =</span> <span class="dv">85</span>, <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"Median precipitaion value:"</span>,<span class="fu">median</span>(cafe<span class="sc">$</span>precip,<span class="at">na.rm =</span> <span class="cn">TRUE</span>)),<span class="at">color=</span><span class="st">'red'</span>) </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>pl1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-preciphist" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Q2_files/figure-html/fig-preciphist-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;4: Distribution of precipitation values</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-preciphist">Figure&nbsp;4</a> illustrates the distribution of precipitation values. Upon analysing the data, we can observe that on most days, the precipitation values are low. The median value of precipitation amounted to 0.2 mm. Furthermore, median values are generally unaffected by the presence of outlier values.</p>
<p>Hence, <strong>replacing the missing values with the median values could be a safe assumption to make</strong>.</p>
<p>Let us imputate the missing values through the code chunk below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>cafe<span class="sc">$</span>precip <span class="ot">&lt;-</span> cafe<span class="sc">$</span>precip <span class="sc">%&gt;%</span> <span class="fu">replace_na</span>(<span class="fu">median</span>(cafe<span class="sc">$</span>precip,<span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="expenditure" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="expenditure"><span class="header-section-number">3.2.2</span> Expenditure</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>pl2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> cafe, <span class="fu">aes</span>(<span class="at">x =</span> expend)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">'lightblue'</span>, <span class="at">color =</span> <span class="st">'black'</span>) <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">median</span>(cafe<span class="sc">$</span>expend, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">color =</span> <span class="st">'red'</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Expenditure (in hundreads) $"</span>, <span class="at">y =</span> <span class="st">"Number of observations"</span>) <span class="sc">+</span> <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2</span>, <span class="at">y =</span> <span class="dv">85</span>, <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"Median expenditure value:"</span>,<span class="fu">median</span>(cafe<span class="sc">$</span>expend,<span class="at">na.rm =</span> <span class="cn">TRUE</span>)),<span class="at">color=</span><span class="st">'red'</span>) </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>pl2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-expendhist" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Q2_files/figure-html/fig-expendhist-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;5: Distribution of expenditure values</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-expendhist">Figure&nbsp;5</a> illustrates a histogram of the distribution of the expenditure values. The median value of precipitation amounted to 583.5 $.</p>
<p>Let us imputate the missing expenditure values with the median values through the code chunk below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>cafe<span class="sc">$</span>expend <span class="ot">&lt;-</span> cafe<span class="sc">$</span>expend <span class="sc">%&gt;%</span> <span class="fu">replace_na</span>(<span class="fu">median</span>(cafe<span class="sc">$</span>expend,<span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="revenue" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="revenue"><span class="header-section-number">3.2.3</span> Revenue</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>pl3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> cafe, <span class="fu">aes</span>(<span class="at">x =</span> revenue)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">'lightblue'</span>, <span class="at">color =</span> <span class="st">'black'</span>) <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">median</span>(cafe<span class="sc">$</span>revenue, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">color =</span> <span class="st">'red'</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Revenue (in hundreads) $"</span>, <span class="at">y =</span> <span class="st">"Number of observations"</span>) <span class="sc">+</span> <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">22</span>, <span class="at">y =</span> <span class="dv">85</span>, <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"Median expenditure value:"</span>,<span class="fu">median</span>(cafe<span class="sc">$</span>revenue,<span class="at">na.rm =</span> <span class="cn">TRUE</span>)),<span class="at">color=</span><span class="st">'red'</span>) </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>pl3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-expendrev" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Q2_files/figure-html/fig-expendrev-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;6: Distribution of revenue values</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-expendrev">Figure&nbsp;6</a> illustrates a histogram of the distribution of the revenue values. The median value of precipitation amounted to 1755 $.</p>
<p>Let us imputate the missing expenditure values with the median values through the code chunk below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>cafe<span class="sc">$</span>revenue <span class="ot">&lt;-</span> cafe<span class="sc">$</span>revenue <span class="sc">%&gt;%</span> <span class="fu">replace_na</span>(<span class="fu">median</span>(cafe<span class="sc">$</span>revenue,<span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="alert alert-block alert-success">
<p>✅ We have successfully performed data imputation and removed all missing values by replacing them with median values of each variable. As a result, the data can be considered <b> clean </b>. ✅</p>
</div>
</section>
</section>
</section>
<section id="conclusion" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Conclusion</h1>
<div class="warning" style="background-color:#57bdd4; color: #000301; border-left: solid #044716 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="margin-top:1em; text-align:center">
<b>What are our key takeaways ?</b>
</p>
<p style="margin-left:1em;">
</p><p>The following key steps were performed as a part of initial data analysis :</p>
<ol type="1">
<li>Datatypes for each variable were assessed and visualised.</li>
<li>Appropriate datatypes were assigned for date,expenditure and precipitation.</li>
<li>The weekday variable was obtained from the date of observation using the lubridate package to prevent presence of any incorrect data entries.</li>
<li>Data cleaning operations were conducted by checking for the presence of missing values.</li>
<li>Based on the distribution of each variable, data imputation was conducted to treat the missing values.</li>
</ol>
<p></p>
<p style="margin-bottom:1em; margin-right:1em; text-align:right; font-family:Georgia">
 <i></i>
</p>
<p></p>
</span></div>
</section>
<section id="resources" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Resources</h1>
<p>The above analysis was undertaken with the help of the following software and packages:</p>
<ol type="1">
<li><strong>RStudio</strong>: Integrated Development for R. RStudio, PBC, Boston, MA URL http://www.rstudio.com/.</li>
<li><strong>ggplot2</strong>: H. Wickham. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York, 2016.</li>
<li><strong>tidyverse</strong>: Wickham H, Averick M, Bryan J, Chang W, McGowan LD, François R, Grolemund G, Hayes A, Henry L, Hester J, Kuhn M, Pedersen TL, Miller E, Bache SM, Müller K, Ooms J, Robinson D, Seidel DP, Spinu V, Takahashi K, Vaughan D, Wilke C, Woo K, Yutani H (2019). “Welcome to the tidyverse.” <em>Journal of Open Source Software</em>, <em>4</em>(43), 1686. doi:10.21105/joss.01686 <a href="https://doi.org/10.21105/joss.01686" class="uri">https://doi.org/10.21105/joss.01686</a>.</li>
<li><strong>knitr</strong>: Yihui Xie (2014) knitr: A Comprehensive Tool for Reproducible Research in R. In Victoria Stodden, Friedrich Leisch and Roger D. Peng, editors, Implementing Reproducible Computational Research. Chapman and Hall/CRC. ISBN 978-1466561595.</li>
<li><strong>rmarkdown</strong>: Allaire J, Xie Y, Dervieux C, McPherson J, Luraschi J, Ushey K, Atkins A, Wickham H, Cheng J, Chang W, Iannone R (2023). <em>rmarkdown: Dynamic Documents for R</em>. R package version 2.23, <a href="https://github.com/rstudio/rmarkdown" class="uri">https://github.com/rstudio/rmarkdown</a>.</li>
<li><strong>kableExtra</strong>: Zhu H (2023). <em>kableExtra: Construct Complex Table with ‘kable’ and Pipe Syntax</em>. http://haozhu233.github.io/kableExtra</li>
</ol>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>